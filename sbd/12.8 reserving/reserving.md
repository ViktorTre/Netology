# Домашнее задание к занятию «Резервное копирование баз данных» - Третьяков Виктор
---

### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

Нам нужен последняя полная копия к которой применим дифференциальный бэкап с момента создания полной копии

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

Мы можем воспользоваться созданием инкрементных бэкапов каждый час. При поломке применяем последний полный бэкап плюс все инкрементые бэкапы после него, до места за час до поломки.

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

при репликации Master-Slave происходит записывание данных на Мастер, с последующим копированием на слэйв. При выходе из строя Мастер, Слейв становится на его место продолжая доступ к БД с актуальными данными. При выходе из строя Слэйв, продолжает работать Мастер.

---

### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

``` 
pg_dump -U имя пользователя PostgreSQL -d имя БД e -f место и имя дампа БД

pg_restore -U имя пользователя PostgreSQL -d имя БД и  место и имя дампа БД
``` 

2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?

Можно с помощью скриптов и планировщиков автоматизировать процесс резервирования БД в дампы

---

### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 

``` 
mysqldump --single-transaction -u имя пользователя MySQL -p имя БД > место и имя дампа БД
``` 

3.2.* В каких случаях использование реплики будет давать преимущество по сравнению с обычным резервным копированием?
